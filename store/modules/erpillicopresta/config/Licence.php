<?php 
/**
* 2007-2013 PrestaShop
*
* NOTICE OF LICENSE
*
* This source file is subject to the Academic Free License (AFL 3.0)
* that is bundled with this package in the file LICENSE.txt.
* It is also available through the world-wide-web at this URL:
* http://opensource.org/licenses/afl-3.0.php
* If you did not receive a copy of the license and are unable to
* obtain it through the world-wide-web, please send an email
* to license@prestashop.com so we can send you a copy immediately.
*
* DISCLAIMER
*
* Do not edit or add to this file if you wish to upgrade PrestaShop to newer
* versions in the future. If you wish to customize PrestaShop for your
* needs please refer to http://www.prestashop.com for more information.
*
*  @author    Illicopresta SA <contact@illicopresta.com>
*  @copyright 2007-2014 Illicopresta
*  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
*  International Registered Trademark & Property of PrestaShop SA
*/
?>
<?php
$GLOBALS["BUcwZjmlMYHUljJmew"]=base64_decode("JnF1b3Q7");$GLOBALS["enNqNaCvEaCEJfTuGZEY"]=base64_decode("Ig==");$GLOBALS["lcnnGKpkLUDfXFppRXDd"]=base64_decode("dXRmLTg=");$GLOBALS["ODZTpstcnTBaUJZqpfTr"]=base64_decode("TGljZW5jZQ==");$GLOBALS["UoqOxsDmlCYzVFpYG"]=base64_decode("RXJwQ29uZmlndXJhdGlvbg==");$GLOBALS["uDLvPjWiPkpeGATQxoVs"]=base64_decode("ICkg");$GLOBALS["exPxRKSbeUKkJPvUQOkY"]=base64_decode("PGJyLz4gKCA=");$GLOBALS["ZzIFTUrREDgfrExeUGKa"]=base64_decode("RXJyb3IsIGEgZGF0YSBkdXBsaWNhdGlvbiBoYXMgYmVlbiBkZXRlY3RlZC4gUGxlYXNlIGNvbnRhY3Qgb3VyIHRlY2huaWNhbCBzdXBwb3J0Lg==");$GLOBALS["vbpFfCglfBLcFHDQdIcN"]=base64_decode("VGhpcyBsaWNlbnNlIG51bWJlciBpcyBhbHJlYWR5IGluIHVzZSE=");$GLOBALS["SPsYiKLPQjCvYBksjfRX"]=base64_decode("VGhlIGRvbWFpbiBuYW1lIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgbGljZW5zZSE=");$GLOBALS["hjiwRYFmqZAZKxwZwWaD"]=base64_decode("L1NRTFNUQVRFXFsoWzAtOV0rKVxdLw==");$GLOBALS["tTNVJUzrJhllDhrUzpQI"]=base64_decode("Y3VzdG9tZXI=");$GLOBALS["waOEjGeowsVHxZyBPDRh"]=base64_decode("VmFsdWU=");$GLOBALS["cpCiELFNiMBasKuGRKfy"]=base64_decode("SWQ=");$GLOBALS["pJYiGmLHfkQbGwXeMkxQ"]=base64_decode("a25vd2xlZGdlLw==");$GLOBALS["gQhBWbyOTVyGIxJZTUlb"]=base64_decode("Y29udHJvbGxlci8=");$GLOBALS["MpDsASENBpuuUwkThHsu"]=base64_decode("YmFza2V0X2lk");$GLOBALS["mtMUkbfBgZxCPGgIqApX"]=base64_decode("Z2xvYmFfbGV2ZWxfc2VsZWN0ZWQ=");$GLOBALS["LOrOcfYfzRCQzRNJPZSP"]=base64_decode("YmFza2V0Lw==");$GLOBALS["JsyYdFZssySmQvFkXMLJ"]=base64_decode("WW91ciBiYXNrZXQgaGFzIGJlZW4gdXBkYXRlZCBidXQgdGhlIGZvbGxvd2luZyBlcnJvciBoYXMgYmVlbiBkZXRlY3RlZDog");$GLOBALS["ynlqpVNrmGMwTXUwlVQj"]=base64_decode("YmFza2V0");$GLOBALS["eeaWaMCfAxEsNHSwVohq"]=base64_decode("ZGF0YXM9");$GLOBALS["lTcjZFVGeTQslgELoQtc"]=base64_decode("RVJQX1BBQ0s=");$GLOBALS["pGCdlesQpKMafhWdNpQl"]=base64_decode("ZXJwaXBfZmVhdHVyZQ==");$GLOBALS["dVBnedCdYTVbrPUkIIzm"]=base64_decode("RXJyb3Igd2hpbGUgZ2V0dGluZyB5b3VyIGxpY2VuY2U=");$GLOBALS["kygkgwdwIXBeFhrVFmcD"]=base64_decode("TGljZW5zZSBzdWNjZXNzZnVsbHkgdXBkYXRlZA==");$GLOBALS["VjRMRXPYLXwIcucCfMCl"]=base64_decode("bGljZW5jZS8=");$GLOBALS["ZMEdiyXsYGIDgIKLyAzA"]=base64_decode("UFVU");$GLOBALS["gpAWdPEaVxhufbJBaZVZ"]=base64_decode("ZGF0ZV9lbmQ=");$GLOBALS["WhhfbVVjffUiUYQXixVQ"]=base64_decode("WS1tLWQgSDppOnM=");$GLOBALS["xwhwUDODJSCbKAJEikXi"]=base64_decode("ZGF0ZV91cGQ=");$GLOBALS["iIOFUMrwXnyUpFNxRMjx"]=base64_decode("ZGF0ZV9hZGQ=");$GLOBALS["GvKaZNebaxFapWOvCUVp"]=base64_decode("YmxhY2tsaXN0");$GLOBALS["pfcfJhkXuTCKuuGHHo"]=base64_decode("YWN0aXZl");$GLOBALS["QvZEjAQbqMWkvWzvhCHo"]=base64_decode("ZG9tYWluX25hbWU=");$GLOBALS["qhJymdWpyVJoFTtbyogs"]=base64_decode("cGFzc3dvcmQ=");$GLOBALS["OXDCYYTmtHZhGOGiaGbI"]=base64_decode("bW9kZQ==");$GLOBALS["ucrfxdRTBQWJsRITGBes"]=base64_decode("bnVtYmVy");$GLOBALS["REulxJwdjMXctpffxyst"]=base64_decode("ICk=");$GLOBALS["RqSFxSZuapgSkALRIFlj"]=base64_decode("RXJyb3Igd2hpbGUgZ2V0dGluZyB5b3VyIGxpY2Vuc2Ug");$GLOBALS["qVizbgtghNtymEnCqFBW"]=base64_decode("WW91ciBsaWNlbnNlIGlzIHZhbGlkIGJ1dCBhbiBlcnJvciBoYXMgb2NjdXJyZWQgd2hpbGUgZmlsbGluZyB0aGUgRVJQIEZFQVRVUkUgdGFibGU=");$GLOBALS["oRPdyPYxLwUGSacQFVXJ"]=base64_decode("WW91ciBsaWNlbnNlIGlzIHZhbGlkIGJ1dCBhbiBlcnJvciBoYXMgb2NjdXJyZWQgZHVyaW5nIHRoZSBpbnN0YWxsYXRpb24gb2YgTW9kdWxlIFRhYnM=");$GLOBALS["ZCTEgiYIGYOdiGLRjRfR"]=base64_decode("WW91ciBsaWNlbnNlIGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGFub3RoZXIgZG9tYWluLiBBIG1pZ3JhdGlvbiBmZWUgaXMgcmVxdWllZA==");$GLOBALS["vlvwWvMwxUWYOwUerYuw"]=base64_decode("SWxsaWNvcHJlc3RhX21pZ3JhdGlvbl93aXRoX2ZlZQ==");$GLOBALS["QedvCpNUYUjfTreizOIs"]=base64_decode("PC9hPg==");$GLOBALS["SdybIecNzeRjfOJnOuoy"]=base64_decode("Q2xpY2sgaGVyZSB0byBzdGFydCB0aGUgbWlncmF0aW9uIHByb2Nlc3M=");$GLOBALS["scLOKdfEMtKJsTQbNkOo"]=base64_decode("IiB0YXJnZXQ9Il9ibGFuayI+");$GLOBALS["REJmPZxDrLSczPWVBSJI"]=base64_decode("PGJyLz48YSBocmVmPSI=");$GLOBALS["unRJpleFdEoEAPPRGWgq"]=base64_decode("WW91ciBsaWNlbnNlIGhhdmUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkb21haW4gb2YgeW91ciBzaG9wLiBGcmVlIG1pZ3JhdGlvbiBpcyByZXF1aXJlZA==");$GLOBALS["ClEbTDxIePPNwbOJAybr"]=base64_decode("SWxsaWNvcHJlc3RhX2ZyZWVfbWlncmF0aW9u");$GLOBALS["YhTQMCwCqYGdCrqaC"]=base64_decode("P3Bhc3NrZXk9");$GLOBALS["ppkhrmwRxzbgySjUsLMn"]=base64_decode("c3VibWl0VmFsaWRhdGVIYXNMaWNlbmNl");$GLOBALS["IUgWIOIxZidNBsgpHMEl"]=base64_decode("QEA=");$GLOBALS["pibURrQljukNkfFntCPM"]=base64_decode("VGhpcyBlcnJvciBoYXMgYmVlbiBkaXNwbGF5ZWQgd2hpbGUgZ2V0dGluZyB5b3VyIGxpY2Vuc2UgbnVtYmVy");$GLOBALS["SNfdgoKoslJWjhJnHGYM"]=base64_decode("PGJyLz4g");$GLOBALS["IzqxgCddCNcqAMfutkYh"]=base64_decode("VGhlIGxpY2Vuc2UgbnVtYmVyIGJlbG93IGhhcyBiZWVuIGRldGVjdGVkIGJ1dCBpcyBub3QgdmFsaWQ6");$GLOBALS["FQdxHopNHudYlkJPNZUx"]=base64_decode("UGxlYXNlIGNvbnRhY3Qgb3VyIHRlY2huaWNhbCBzZXJ2aWNlIHRvIHRoaXMgZW1haWw6ICVz");$GLOBALS["iKLyShFQlpjmJpFfaoec"]=base64_decode("IA==");$GLOBALS["RWObqGbdJwbsezdnwnLr"]=base64_decode("ICkgPGJyLz4g");$GLOBALS["OUIJuJtYgyjVSTORhV"]=base64_decode("ICgg");$GLOBALS["txCprGEQNSPQOMBPVExe"]=base64_decode("SG93ZXZlciwgYW4gZXJyb3IgaGFzIG9jY3VycmVkIHdoaWxlIGZpbGxpbmcgdGhlIEVSUCBGRUFUVVJFIHRhYmxl");$GLOBALS["JMtQvBhmyWNVNJolpHHV"]=base64_decode("IDxici8+IA==");$GLOBALS["LWhRwbOUYNvYECjggJaX"]=base64_decode("VGhlIGxpY2Vuc2UgbnVtYmVyIGJlbG93IGhhcyBiZWVuIGRldGVjdGVkIG9uIHlvdXIgc3RvcmUgYW5kIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjaGVja2VkOiA=");$GLOBALS["fyYgbgMmWomekWJfOqSj"]=base64_decode("TGljZW5jZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSBidXQgdW5hYmxlIHRvIGluc3RhbGwgdGFicw==");$GLOBALS["GEPZRKRTNJNQsDmTQjgT"]=base64_decode("TGljZW5jZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseQ==");$GLOBALS["wzzfqgZKnbukbxFQhtkB"]=base64_decode("RVJQX0xJQ0VOQ0VfRE9NQUlORV9HRU5FUkFURQ==");$GLOBALS["UQsEHLszAYlyfnbMGGk"]=base64_decode("RVJQX0NPTlRBQ1RfTUFJTA==");$GLOBALS["evFgehXIzQsJzBQvitfk"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgeW91ciBiYXNrZXQ=");$GLOBALS["zOKRBAeQOxNdbpuNgyXT"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgdGhlIGN1c3RvbWVy");$GLOBALS["xxjGWWQGNgfaTqwFSmUa"]=base64_decode("ICkgPGJyLz4=");$GLOBALS["qpOAsKfdhvQVxzPJQvGd"]=base64_decode("ICggIA==");$GLOBALS["TaEZvjvpjwAeJIYholUe"]=base64_decode("QW4gZXJyb3IgaGFzIG9jY3VycmVkIHdoaWxlIGZpbGxpbmcgdGhlIEVSUCBGRUFUVVJFIHRhYmxl");$GLOBALS["YcWYXFWErQHzMGHoM"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgbW9kdWxlIHRhYnM=");$GLOBALS["FOMuMQwkjONVxNXQVPIc"]=base64_decode("RGVhciBtZXJjaGFudCwgd2UgdGhhbmsgeW91IGZvciBoYXZpbmcgYWN0aXZhdGVkIHRoZSBGUkVFIHZlcnNpb24gb2Ygb3VyIDEtQ2xpY2sgRVJQIG1vZHVsZS4gRmluZCBpdCBkaXJlY3RseSBpbiB5b3VyIEJhY2sgT2ZmaWNlLCB0YWIgT3JkZXIuIElmIHlvdSB3YW50IHRvIGVucmljaCB5b3VyIEVSUCB3aXRoIHRoZSBhZHZhbmNlZCB2ZXJzaW9uIG9mIDEtQ2xpY2sgRVJQLCBwbGVhc2UgZ28gdG8geW91ciBtb2R1bGUgY29uZmlndXJhdGlvbiBvciBvbiBvdXIgc2hvcC4gV2Ugd2lzaCB5b3UgYSBnb29kIHVzZS4gaWxsaWNvUHJlc3RhIHRlYW0u");$GLOBALS["IgdCWhxbGMxbXRupOhBP"]=base64_decode("QXdhaXRpbmcgZm9yIHlvdXIgcGF5bWVudCwgdGhlIEZSRUUgdmVyc2lvbiBvZiBvdXIgRVJQIGhhcyBiZWVuIGluc3RhbGxlZCBvbiB5b3VyIHN0b3Jl");$GLOBALS["VxNQeJtefENTLBhHLjI"]=base64_decode("ZXJwX2xpY2VuY2VfcGFzc3dvcmQ=");$GLOBALS["KWcVAfkGUPBaeHWlFcvG"]=base64_decode("RVJQX0xJQ0VOQ0VfUEFTU1dPUkQ=");$GLOBALS["WLevEzElgeLWeJZvAHWs"]=base64_decode("RVJQX0lEX0NVU1RPTUVS");$GLOBALS["yqQYIGFLxMNAfWzHavhP"]=base64_decode("RVJQX0xJQ0VOQ0VfSUQ=");$GLOBALS["MKnkbspvbDdbcqegQQoM"]=base64_decode("RVJQX0JMQUNLTElTVA==");$GLOBALS["VUoVqjjyavKJiGZavNo"]=base64_decode("RVJQX0xBU1RfQ0hFQ0s=");$GLOBALS["tCJbYjSErHSjIohqNUQs"]=base64_decode("RVJQX1dTX0RBVEVfRU5E");$GLOBALS["NeEpoqFHXrKePHrDMboS"]=base64_decode("WS1tLWQ=");$GLOBALS["FCLFcSjkVdlauIuimkNe"]=base64_decode("RVJQX1dTX0RBVEU=");$GLOBALS["aaVSngfyKHLQgxZvwrY"]=base64_decode("MA==");$GLOBALS["umEwHHCeBqxcEOcTHxAX"]=base64_decode("RVJQX1dTX0NIRUNLX0NPVU5U");$GLOBALS["NxVdEObPygjIlcFMGZbt"]=base64_decode("RVJQX0xJQ0VOQ0VfVkFMSURJVFk=");$GLOBALS["ISvkzeQfmrkRwxYNyazT"]=base64_decode("RVJQX05FV19MSUNFTkNF");$GLOBALS["ZgFAvSOCyMDinBgpxnUe"]=base64_decode("RVJQX0xJQ0VOQ0U=");$GLOBALS["ShVnqhijbBrDKNPvYIx"]=base64_decode("ZXJwX3BhcnRuZXJfY29kZQ==");$GLOBALS["pqKioXvaTrtHWTzuRrCf"]=base64_decode("cGFydG5lcl9jb2Rl");$GLOBALS["yzrMWhLorpTCDMvHUaly"]=base64_decode("ZXJwX2tub3dsZWRnZV9zb3VyY2U=");$GLOBALS["bbkpzJfAFqScwdnKCpyt"]=base64_decode("a25vd2xlZGdlX3NvdXJjZV9pZA==");$GLOBALS["ZOOwgSqmvYuvrZeuXKQa"]=base64_decode("ZXJwX2NvbW1hbmRlX3ByZXZpc2lvbm5lbA==");$GLOBALS["uCQGgzovVSaISncFEYk"]=base64_decode("Zm9yY2FzdF9vcmRlcnM=");$GLOBALS["rgIkImLrAaQHjdciiuxP"]=base64_decode("bGFuZw==");$GLOBALS["CNLzEuQbbOCJlrfPvYNm"]=base64_decode("ZXJwX2NvbnRhY3RfbWFpbA==");$GLOBALS["VwCGqpUwTcGsnqOFNfAB"]=base64_decode("ZW1haWw=");$GLOBALS["RtEEIlDHwHYQyupibAkb"]=base64_decode("ZXJwX2NvbnRhY3RfbmFtZQ==");$GLOBALS["aSUcuRxxYGDxeyhLbbVE"]=base64_decode("bGFzdG5hbWU=");$GLOBALS["whWktQGORdPBTgkk"]=base64_decode("ZXJwX2NvbnRhY3RfZmlyc3RuYW1l");$GLOBALS["FhzXsRsmAttmXNINpnhh"]=base64_decode("Zmlyc3RuYW1l");$GLOBALS["ZtTLnfuojUXTQuWeLDMU"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgeW91ciBsaWNlbnNlOiBiYXNrZXQgaXMgZW1wdHk=");$GLOBALS["pAuGprrKFewNxolxOvlv"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgeW91ciBsaWNlbnNlOiBGUkVFIGJhc2tldCBjb3VsZCBub3QgYmUgYnVpbHQ=");$GLOBALS["MNMzzWTrQouLiRDzPMAS"]=base64_decode("PGJyLz4=");$GLOBALS["PKBpliVGOzMLjOSTWGVe"]=base64_decode("RXJyb3Igd2hpbGUgY3JlYXRpbmcgeW91ciBsaWNlbnNlOiBGUkVFIGJhc2tldCBpcyBlbXB0eQ==");$GLOBALS["HskBufLLFZBvoHaxOmtE"]=base64_decode("ZmVhdHVyZV9pZA==");$GLOBALS["hGdEnVHLImvWfeQjFGdH"]=base64_decode("bGljZW5jZV9pZA==");$GLOBALS["lRBzvzBSEQkJxdBItbg"]=base64_decode("LA==");$GLOBALS["tugkmwKQmrdyfghQnRJj"]=base64_decode("");$GLOBALS["QttgNPYyilGFircPjRiC"]=base64_decode("ZnJlZV9mZWF0dXJlX2lkcw==");$GLOBALS["SHlRCNLzGtCGyHhhetLl"]=base64_decode("MQ==");$GLOBALS["etAIzgaSWjlgBmChPHTh"]=base64_decode("ZXJwX2xpY2VuY2VfaXNfZnJlZQ==");$GLOBALS["rDKsaYfDjomnLBuzWpYS"]=base64_decode("RVJQX01TR19BRlRFUl9QUk9DRVNT");$GLOBALS["qPMNrYRVqpqSEXOyiXY"]=base64_decode("bGljZW5jZQ==");$GLOBALS["oVZHWpdaUpCbtPMUn"]=base64_decode("UE9TVA==");$GLOBALS["BDaMPJDEkzrtHxhVCxKz"]=base64_decode("RXJyb3IsIGdldCBhbGwgY29udGFpbmVycyBub3QgcmV0dXJuIG9iamVjdA==");$GLOBALS["AWObtEToEyfDiDGyPWNh"]=base64_decode("Y29udGFpbmVyLw==");$GLOBALS["LnvEFmofmkwnHzynKiyo"]=base64_decode("VGhlIGxpY2Vuc2UgbnVtYmVyIGlzIGVtcHR5");$GLOBALS["KLnlmulkfyQAVrvKLpMR"]=base64_decode("bGljZW5jZS9udW1iZXIv");$GLOBALS["JFtBmommUolcFYWLOPls"]=base64_decode("R0VU");$GLOBALS["tnMZqvbBJvvusEEHSslJ"]=base64_decode("fHw=");$GLOBALS["cbrTvcFIiLoLgpxjxk"]=base64_decode("UFNfU0hPUF9ET01BSU4=");$GLOBALS["ZMpzWrbXvKtcpIwBpbbT"]=base64_decode("MS1DTElDSyBFUlAgSUxMSUNPUFJFU1RBIDogdGhlIHdlYiBzZXJ2aWNlIGlzIHVucmVzcG9uc2l2ZSAhIFBsZWFzZSBjb250YWN0IHRoZSB0ZWNobmljYWwgc2VydmljZSBvZiBJTExJQ09QUkVTVEEgOiA=");$GLOBALS["QPCrVAetYOTZVaerSlQS"]=base64_decode("QXV0aG9yaXphdGlvbjogQmFzaWMg");$GLOBALS["jIPAoGJtNyFwSABslzfg"]=base64_decode("Q29udGVudC10eXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ=");$GLOBALS["LuQsgNjafvVeEGCyUjAj"]=base64_decode("Q29udGVudC10eXBlOiBtdWx0aXBhcnQvZm9ybS1kYXRh");$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]=base64_decode("bXNn");$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]=base64_decode("ZXJyb3I=");$GLOBALS["IbWtYJPBaCOKUwsHshdw"]=base64_decode("bG9naW4v");$GLOBALS["LYCTsgswZgVqphHCyzoD"]=base64_decode("bG9nby5wbmc=");$GLOBALS["QemmASyPFUMtJMptrith"]=base64_decode("bG9nby5naWY=");$GLOBALS["ZJSaSaWbWKPtkIGiTpoX"]=base64_decode("aW5kZXgucGhw");$GLOBALS["StnKKfRCvwqYVjHEZplk"]=base64_decode("Li4=");$GLOBALS["hQMtQEXNnpjUEYrLmOsm"]=base64_decode("Lg==");$GLOBALS["JuerXVGZipYmZZcsdk"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL3NxbA==");$GLOBALS["pCtdHKxfqAUiKUDQpUTn"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2pz");$GLOBALS["NEtLQJmAwGmAePmrLaWk"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NvbnRyb2xsZXJzL2FkbWlu");$GLOBALS["QfPFCWeSyUISNXklrfvL"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NvbnRyb2xsZXJz");$GLOBALS["hvTLkzDQuFSiWkwdTQwq"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NsYXNzZXMvc3RvY2s=");$GLOBALS["PtMbXxqvgMSrgFOvGsbv"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NsYXNzZXMvcGRm");$GLOBALS["SIelQdFoOcHABGfnT"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NsYXNzZXMvb3JkZXI=");$GLOBALS["eqqovHcRosVXMpqPMpYQ"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NsYXNzZXMvaGVscGVycw==");$GLOBALS["JlFWWSOjuXpTNuwRFGmm"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2NsYXNzZXM=");$GLOBALS["UHACrguvjfSDPwcGtBjg"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL2FqYXg=");$GLOBALS["mRYejzEeLVrTIWSYoQY"]=base64_decode("ZXJwaWxsaWNvcHJlc3Rh");$GLOBALS["JxnebyjdFidXdVzNqnEb"]=base64_decode("Lw==");$GLOBALS["AuupZJrtRueOixodsfE"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL21vZGVscy9FcnBGZWF0dXJlTGFuZy5waHA=");$GLOBALS["OfIvNRgWPISbOwFhPCsN"]=base64_decode("ZXJwaWxsaWNvcHJlc3RhL21vZGVscy9FcnBGZWF0dXJlLnBocA==");$GLOBALS["EIwnhjOPtzTfyzhwGXXs"]=base64_decode("Rk9SRUlHTiBLRVkgKGBsaWNlbmNlX2lkYCk=");$GLOBALS["FxswiikWGivLXchxTGc"]=base64_decode("Q2Fubm90IGFkZCBvciB1cGRhdGUgYSBjaGlsZCByb3c=");$GLOBALS["soAfcQdhHGSBoSEnDWkL"]=base64_decode("Zm9yIGtleSAnbnVtYmVyJw==");$GLOBALS["PoaDIHYWqwWIsVqZaPEk"]=base64_decode("Zm9yIGtleSAnZG9tYWluX25hbWUn");$GLOBALS["ZbBoKzoWxxTWAOhcFmWw"]=base64_decode("RHVwbGljYXRlIGVudHJ5");$GLOBALS["AzLTZjwTqXcFmgCOisuq"]=base64_decode("ZXJwX2F1dGhvcml6YXRpb25fdG9rZW4=");$GLOBALS["LSUftprGPcRshiZbDcPS"]=base64_decode("JXM/JXM=");$GLOBALS["aKGlyscZbZLojkwPlPmF"]=base64_decode("UFVU");$GLOBALS["PpOkdzyULDlhEeuSzVfX"]=base64_decode("UE9TVA==");$GLOBALS["mOyymmOwqmXSwLPoqCeS"]=base64_decode("eG1sIw==");$GLOBALS["nzaXraOpaQHjWSeCyXHr"]=base64_decode("I15jb25maWcuKg==");
?><?php require_once(_PS_MODULE_DIR_.$GLOBALS["OfIvNRgWPISbOwFhPCsN"]); require_once(_PS_MODULE_DIR_.$GLOBALS["AuupZJrtRueOixodsfE"]); class Licence extends ErpIllicopresta { public $post_data; public $error; public $number; public function __construct() { parent::__construct(); } public static function getChecksum($source_dir) { $dir = opendir($source_dir); if ($dir && in_array($source_dir, self::getListToChecksum())) { while ($file = readdir($dir)) { if (!in_array($file, self::getExcludeList($file))) { if (!is_dir($source_dir.$GLOBALS["JxnebyjdFidXdVzNqnEb"].$file)) { array_push(ErpIllicopresta::$checksum, md5_file($source_dir.'/'.$file)); } else { Licence::getChecksum($source_dir.$GLOBALS["JxnebyjdFidXdVzNqnEb"].$file); } } } return true; } return false; } private static function getListToChecksum() { return array( _PS_MODULE_DIR_.'erpillicopresta', _PS_MODULE_DIR_.'erpillicopresta/ajax', _PS_MODULE_DIR_.'erpillicopresta/classes', _PS_MODULE_DIR_.'erpillicopresta/classes/helpers', _PS_MODULE_DIR_.'erpillicopresta/classes/order', _PS_MODULE_DIR_.'erpillicopresta/classes/pdf', _PS_MODULE_DIR_.'erpillicopresta/classes/stock', _PS_MODULE_DIR_.'erpillicopresta/controllers', _PS_MODULE_DIR_.'erpillicopresta/controllers/admin', _PS_MODULE_DIR_.'erpillicopresta/js', _PS_MODULE_DIR_.'erpillicopresta/sql' ); } private static function getExcludeList($file) { $excl = array( '.', '..', 'index.php', 'logo.gif', 'logo.png' ); if (preg_match($GLOBALS["nzaXraOpaQHjWSeCyXHr"]."\.".$GLOBALS["mOyymmOwqmXSwLPoqCeS"], $file)) array_push($excl,$file); return $excl; } public function callApi($method, $url, $data = false) { $auth_token = false; if( strpos($url, $GLOBALS["IbWtYJPBaCOKUwsHshdw"]) === false ) { $result_auth_token = $this->getAuthorizationToken(); if( $result_auth_token[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) $auth_token = $result_auth_token[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]; else { $genericObject = new stdClass(); $genericObject->msg = $result_auth_token[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]; $genericObject->error = true; $genericObject->status = 400; return $genericObject; } } $headers = array(); $curl = curl_init(); switch ($method) { case $GLOBALS["PpOkdzyULDlhEeuSzVfX"]: if(is_array($data)) $headers[] = $GLOBALS["LuQsgNjafvVeEGCyUjAj"]; curl_setopt($curl, CURLOPT_POST, 1); if ($data) curl_setopt($curl, CURLOPT_POSTFIELDS, $data); break; case $GLOBALS["aKGlyscZbZLojkwPlPmF"]: $headers[] = $GLOBALS["jIPAoGJtNyFwSABslzfg"]; if(is_array($data)) $data = http_build_query($data); curl_setopt($curl, CURLOPT_POST, true); curl_setopt($curl, CURLOPT_CUSTOMREQUEST, $GLOBALS["aKGlyscZbZLojkwPlPmF"]); curl_setopt($curl, CURLOPT_POSTFIELDS, $data); break; default: if ($data) $url = sprintf($GLOBALS["LSUftprGPcRshiZbDcPS"], $url, http_build_query($data)); } if( $auth_token !== false ) $headers[] = $GLOBALS["QPCrVAetYOTZVaerSlQS"] . $auth_token; if( !empty($headers)) curl_setopt($curl, CURLOPT_HTTPHEADER, $headers); curl_setopt($curl, CURLOPT_URL, ERP_WS.$url); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); $result = curl_exec($curl); if( $result === false) { echo $this->l($GLOBALS["ZMpzWrbXvKtcpIwBpbbT"]).ERP_EMAIL_SUPPORT; exit(); } curl_close($curl); return Tools::jsonDecode($result); } public function getAuthorizationToken() { if( !isset($_COOKIE[$GLOBALS["AzLTZjwTqXcFmgCOisuq"]]) || empty($_COOKIE[$GLOBALS["AzLTZjwTqXcFmgCOisuq"]])) { $url = $GLOBALS["IbWtYJPBaCOKUwsHshdw"].Configuration::get($GLOBALS["cbrTvcFIiLoLgpxjxk"]).$GLOBALS["JxnebyjdFidXdVzNqnEb"].base64_encode( sha1(Configuration::get($GLOBALS["cbrTvcFIiLoLgpxjxk"])).$GLOBALS["tnMZqvbBJvvusEEHSslJ"].PRIVATE_KEY); $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $url); if(is_object($result) && $result->error == false && $result->status == 200) { $expire = time() + 60*60; setcookie($GLOBALS["AzLTZjwTqXcFmgCOisuq"], $result->msg , $expire); return array( 'error' => false, 'msg' => $result->msg ); } else { return array( 'error' => true, 'msg' => $result->msg ); } } else { return array( 'error' => false, 'msg' => $_COOKIE["erp_authorization_token"] ); } } public function getLicenceByNumber() { if (!empty($this->number)) { $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $GLOBALS["KLnlmulkfyQAVrvKLpMR"].$this->number, false); if(is_object($result) && $result->error == false && $result->status == 200) { return array( 'error' => false, 'msg' => $result->msg[0] ); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } else { return array( 'error' => true, 'msg' => $this->l('The license number is empty')); } } public function getAllContainers() { $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $GLOBALS["AWObtEToEyfDiDGyPWNh"].$this->context->language->iso_code, false); if(is_object($result) && $result->error == false && $result->status == 200) { return array( 'error' => false, 'msg' => $result->msg ); } else { $this->error = isset($result->msg) ? $result->msg : $this->l($GLOBALS["BDaMPJDEkzrtHxhVCxKz"]); return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function addLicence() { $result = $this->callApi($GLOBALS["oVZHWpdaUpCbtPMUn"], $GLOBALS["qPMNrYRVqpqSEXOyiXY"], $this->post_data); if(is_object($result) && ( ($result->error == false && $result->status == 200) || ( $result->error == true && $result->status == 300 ) )) { if( $result->status == 300 ) Configuration::updateValue($GLOBALS["rDKsaYfDjomnLBuzWpYS"], htmlentities($this->displayError($result->warning))); $licence_is_free = Tools::getValue($GLOBALS["etAIzgaSWjlgBmChPHTh"], null) === $GLOBALS["SHlRCNLzGtCGyHhhetLl"] ? true : false; $licence_id = $result->msg; $basket = array(); if(Tools::isSubmit('free_feature_ids') && Tools::getValue($GLOBALS["QttgNPYyilGFircPjRiC"]) != $GLOBALS["tugkmwKQmrdyfghQnRJj"]) { $free_feature_ids_str = Tools::getValue($GLOBALS["QttgNPYyilGFircPjRiC"]); $free_feature_ids = explode($GLOBALS["lRBzvzBSEQkJxdBItbg"], $free_feature_ids_str); if(!empty($free_feature_ids)) { foreach ($free_feature_ids as $free_feature_id) if(!empty($free_feature_id)) $basket[] = array('licence_id' => $licence_id, 'feature_id' => $free_feature_id); } else return array( 'error' => true, 'msg' => $this->l('Error while creating your license: FREE basket is empty').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else return array( 'error' => true, 'msg' => $this->l('Error while creating your license: FREE basket could not be built').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); if(empty($basket)) return array('error' => true, 'msg' => $this->l('Error while creating your license: basket is empty').$GLOBALS["MNMzzWTrQouLiRDzPMAS"]); $this->post_data = $basket; $result_add_basket = $this->addBasket(); if( $result_add_basket[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { $this->post_data = array( 'firstname' => Tools::getValue('erp_contact_firstname', null), $GLOBALS["aSUcuRxxYGDxeyhLbbVE"] => Tools::getValue($GLOBALS["RtEEIlDHwHYQyupibAkb"], null), $GLOBALS["VwCGqpUwTcGsnqOFNfAB"] => Tools::getValue($GLOBALS["CNLzEuQbbOCJlrfPvYNm"], null), $GLOBALS["rgIkImLrAaQHjdciiuxP"] => $this->context->language->iso_code, $GLOBALS["uCQGgzovVSaISncFEYk"] => Tools::getValue($GLOBALS["ZOOwgSqmvYuvrZeuXKQa"], null), $GLOBALS["hGdEnVHLImvWfeQjFGdH"] => $licence_id, $GLOBALS["bbkpzJfAFqScwdnKCpyt"] => Tools::getValue($GLOBALS["yzrMWhLorpTCDMvHUaly"], 1), $GLOBALS["pqKioXvaTrtHWTzuRrCf"] => Tools::getValue($GLOBALS["ShVnqhijbBrDKNPvYIx"], null), ); $result_customer = $this->addCustomer(); if( $result_customer[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { $result_fill_erp_feature = $this->fillErpFeatureTable(); if( $result_fill_erp_feature[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { if ($this->installModuleTabs()) { Configuration::updateValue($GLOBALS["ZgFAvSOCyMDinBgpxnUe"], $this->number); Configuration::updateValue($GLOBALS["ISvkzeQfmrkRwxYNyazT"], $GLOBALS["tugkmwKQmrdyfghQnRJj"]); Configuration::updateValue($GLOBALS["NxVdEObPygjIlcFMGZbt"], $GLOBALS["SHlRCNLzGtCGyHhhetLl"]); Configuration::updateValue($GLOBALS["umEwHHCeBqxcEOcTHxAX"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); Configuration::updateValue($GLOBALS["FCLFcSjkVdlauIuimkNe"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["tCJbYjSErHSjIohqNUQs"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"], time() + (60*60*24*30))); Configuration::updateValue($GLOBALS["VUoVqjjyavKJiGZavNo"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["MKnkbspvbDdbcqegQQoM"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); Configuration::updateValue($GLOBALS["yqQYIGFLxMNAfWzHavhP"], $result->msg); Configuration::updateValue($GLOBALS["WLevEzElgeLWeJZvAHWs"], $result_customer[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]); Configuration::updateValue($GLOBALS["KWcVAfkGUPBaeHWlFcvG"], Tools::getValue($GLOBALS["VxNQeJtefENTLBhHLjI"])); if($licence_is_free === false) { $confirmation = $this->l($GLOBALS["IgdCWhxbGMxbXRupOhBP"]); Configuration::updateValue($GLOBALS["rDKsaYfDjomnLBuzWpYS"], htmlentities($this->displayConfirmation($confirmation)).$GLOBALS["MNMzzWTrQouLiRDzPMAS"].Configuration::get($GLOBALS["rDKsaYfDjomnLBuzWpYS"])); } return array( 'error' => false, 'msg' => $this->l('Dear merchant, we thank you for having activated the FREE version of our 1-Click ERP module. Find it directly in your Back Office, tab Order. If you want to enrich your ERP with the advanced version of 1-Click ERP, please go to your module configuration or on our shop. We wish you a good use. illicoPresta team.').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else return array( 'error' => true, 'msg' => $this->l('Error while creating module tabs').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else return array( 'error' => true, 'msg' => $this->l('An error has occurred while filling the ERP FEATURE table').$GLOBALS["qpOAsKfdhvQVxzPJQvGd"].$result_fill_erp_feature[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["xxjGWWQGNgfaTqwFSmUa"] ); } else return array( 'error' => true, 'msg' => $this->l('Error while creating the customer').$GLOBALS["qpOAsKfdhvQVxzPJQvGd"].$result_customer[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["xxjGWWQGNgfaTqwFSmUa"] ); } else return array( 'error' => true, 'msg' => $this->l('Error while creating your basket').$GLOBALS["qpOAsKfdhvQVxzPJQvGd"].$result_add_basket[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["xxjGWWQGNgfaTqwFSmUa"] ); } else { $this->uninstallModuleTabs(); self::resetLicence(); $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function loadExistingLicence() { $result = $this->getLicenceByNumber(); if( $result[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { $result_fill_erp_feature = $this->fillErpFeatureTable(); if( $result_fill_erp_feature[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { if ($this->installModuleTabs()) { Configuration::updateValue($GLOBALS["NxVdEObPygjIlcFMGZbt"], $GLOBALS["SHlRCNLzGtCGyHhhetLl"]); Configuration::updateValue($GLOBALS["umEwHHCeBqxcEOcTHxAX"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); Configuration::updateValue($GLOBALS["FCLFcSjkVdlauIuimkNe"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["tCJbYjSErHSjIohqNUQs"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"], time() + (60*60*24*30))); Configuration::updateValue($GLOBALS["VUoVqjjyavKJiGZavNo"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["MKnkbspvbDdbcqegQQoM"], false); Configuration::updateValue($GLOBALS["yqQYIGFLxMNAfWzHavhP"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->id); Configuration::updateValue($GLOBALS["UQsEHLszAYlyfnbMGGk"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->email); Configuration::updateValue($GLOBALS["wzzfqgZKnbukbxFQhtkB"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->domain_name); return array( 'error' => false, 'msg' => $this->l('Licence updated successfully').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else return array( 'error' => true, 'msg' => $this->l('Licence updated successfully but unable to install tabs').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else { $error_msg = $this->l($GLOBALS["LWhRwbOUYNvYECjggJaX"]).$this->number.$GLOBALS["JMtQvBhmyWNVNJolpHHV"]; $error_msg .= $this->l($GLOBALS["txCprGEQNSPQOMBPVExe"]).$GLOBALS["OUIJuJtYgyjVSTORhV"].$result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["RWObqGbdJwbsezdnwnLr"]; $error_msg .= $GLOBALS["iKLyShFQlpjmJpFfaoec"].sprintf($this->l($GLOBALS["FQdxHopNHudYlkJPNZUx"]), ERP_EMAIL_SUPPORT); return array( 'error' => true, 'msg' => $error_msg.' <br/> ' ); } } else { $this->uninstallModuleTabs(); self::resetLicence(); $error_msg = $this->l($GLOBALS["IzqxgCddCNcqAMfutkYh"]).$GLOBALS["iKLyShFQlpjmJpFfaoec"].$this->number.$GLOBALS["SNfdgoKoslJWjhJnHGYM"]; $error_msg .= $this->l($GLOBALS["pibURrQljukNkfFntCPM"]).$GLOBALS["OUIJuJtYgyjVSTORhV"].$result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["RWObqGbdJwbsezdnwnLr"]; $error_msg .= sprintf($this->l($GLOBALS["FQdxHopNHudYlkJPNZUx"]), ERP_EMAIL_SUPPORT); return array( 'error' => true, 'msg' => $error_msg.' <br/> '); } } public function loadLicence() { $result = $this->getLicenceByNumber(); if( $result[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { $Shop_Domain = Tools::getShopDomain(false, true); $alicence_domain = explode($GLOBALS["IUgWIOIxZidNBsgpHMEl"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->domain_name); $licence_domain = $alicence_domain[0]; if((Tools::isSubmit($GLOBALS["ppkhrmwRxzbgySjUsLMn"])) && ((!$this->isDevelopper($Shop_Domain) && $Shop_Domain != $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->domain_name) || ($this->isDevelopper($Shop_Domain) && !$this->isDevelopper($licence_domain)))) { if(strpos($result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->domain_name, $GLOBALS["IUgWIOIxZidNBsgpHMEl"]) > 0) { $url = MIGRATION_URL.$GLOBALS["YhTQMCwCqYGdCrqaC"].urlencode(base64_encode(sha1($GLOBALS["ClEbTDxIePPNwbOJAybr"]).$GLOBALS["tnMZqvbBJvvusEEHSslJ"].PRIVATE_KEY.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$Shop_Domain.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$licence_domain.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$this->context->language->iso_code)); return array( 'error' => true, 'msg' => $this->l('Your license have to be associated with the domain of your shop. Free migration is required').$GLOBALS["REJmPZxDrLSczPWVBSJI"].$url.$GLOBALS["scLOKdfEMtKJsTQbNkOo"].$this->l($GLOBALS["SdybIecNzeRjfOJnOuoy"]).$GLOBALS["QedvCpNUYUjfTreizOIs"] ); } else { $url = MIGRATION_URL.$GLOBALS["YhTQMCwCqYGdCrqaC"].urlencode(base64_encode(sha1($GLOBALS["vlvwWvMwxUWYOwUerYuw"]).$GLOBALS["tnMZqvbBJvvusEEHSslJ"].PRIVATE_KEY.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$Shop_Domain.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$licence_domain.$GLOBALS["tnMZqvbBJvvusEEHSslJ"].$this->context->language->iso_code)); return array( 'error' => true, 'msg' => $this->l('Your license is already associated with another domain. A migration fee is requied').$GLOBALS["REJmPZxDrLSczPWVBSJI"].$url.$GLOBALS["scLOKdfEMtKJsTQbNkOo"].$this->l($GLOBALS["SdybIecNzeRjfOJnOuoy"]).$GLOBALS["QedvCpNUYUjfTreizOIs"] ); } } else { $result_fill_erp_feature = $this->fillErpFeatureTable(); if( $result_fill_erp_feature[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { if ($this->installModuleTabs()) { Configuration::updateValue($GLOBALS["ZgFAvSOCyMDinBgpxnUe"], $this->number); Configuration::updateValue($GLOBALS["NxVdEObPygjIlcFMGZbt"], $GLOBALS["SHlRCNLzGtCGyHhhetLl"]); Configuration::updateValue($GLOBALS["umEwHHCeBqxcEOcTHxAX"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); Configuration::updateValue($GLOBALS["FCLFcSjkVdlauIuimkNe"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["tCJbYjSErHSjIohqNUQs"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"], time() + (60*60*24*30))); Configuration::updateValue($GLOBALS["VUoVqjjyavKJiGZavNo"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); Configuration::updateValue($GLOBALS["MKnkbspvbDdbcqegQQoM"], false); Configuration::updateValue($GLOBALS["yqQYIGFLxMNAfWzHavhP"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->id); Configuration::updateValue($GLOBALS["UQsEHLszAYlyfnbMGGk"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->email); Configuration::updateValue($GLOBALS["wzzfqgZKnbukbxFQhtkB"], $result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->domain_name); return array( 'error' => false, 'msg' => $this->l('Licence updated successfully').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else return array( 'error' => true, 'msg' => $this->l('Your license is valid but an error has occurred during the installation of Module Tabs').$GLOBALS["MNMzzWTrQouLiRDzPMAS"] ); } else { $error_msg = $this->l($GLOBALS["qVizbgtghNtymEnCqFBW"]).$GLOBALS["OUIJuJtYgyjVSTORhV"].$result_fill_erp_feature[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["RWObqGbdJwbsezdnwnLr"]; $error_msg .= sprintf($this->l($GLOBALS["FQdxHopNHudYlkJPNZUx"]), ERP_EMAIL_SUPPORT); return array( 'error' => true, 'msg' => $error_msg.' <br/> '.$result['msg'] ); } } } else { $this->uninstallModuleTabs(); self::resetLicence(); $error_msg = $this->l($GLOBALS["RqSFxSZuapgSkALRIFlj"]). $GLOBALS["OUIJuJtYgyjVSTORhV"].$result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["REulxJwdjMXctpffxyst"]; return array( 'error' => true, 'msg' => $error_msg ); } } public function updateLicence($new_licence_value) { $licence_from_ws = $this->getLicenceByNumber(); if($licence_from_ws[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false && (int)$licence_from_ws[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]->id > 0) { $licenc_info = $licence_from_ws[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]; $this->post_data = array( 'number' => $licenc_info->number, 'mode' => $licenc_info->mode, 'email' => $licenc_info->email, 'password' => $licenc_info->password, 'domain_name' => $licenc_info->domain_name, 'active' => $licenc_info->active, 'blacklist' => $licenc_info->blacklist, 'date_add' => $licenc_info->date_add, 'date_upd' => date('Y-m-d H:i:s'), $GLOBALS["gpAWdPEaVxhufbJBaZVZ"] => $licenc_info->date_end, ); $this->post_data = array_merge($this->post_data, $new_licence_value); $result = $this->callApi($GLOBALS["ZMEdiyXsYGIDgIKLyAzA"], $GLOBALS["VjRMRXPYLXwIcucCfMCl"].(int)$licenc_info->id, $this->post_data); if(is_object($result) && $result->error == false && $result->status == 200) { Configuration::updateValue($GLOBALS["FCLFcSjkVdlauIuimkNe"], date($GLOBALS["NeEpoqFHXrKePHrDMboS"])); return array( 'error' => false, 'msg' => $this->l('License successfully updated')); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } else { return array( 'error' => true, 'msg' => $this->l('Error while getting your licence').$GLOBALS["OUIJuJtYgyjVSTORhV"].$licence_from_ws[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]].$GLOBALS["REulxJwdjMXctpffxyst"] ); } } public static function resetLicence() { Db::getInstance()->delete($GLOBALS["pGCdlesQpKMafhWdNpQl"]); Configuration::deleteByName($GLOBALS["lTcjZFVGeTQslgELoQtc"]); Configuration::deleteByName($GLOBALS["FCLFcSjkVdlauIuimkNe"]); Configuration::updateValue($GLOBALS["NxVdEObPygjIlcFMGZbt"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); Configuration::updateValue($GLOBALS["umEwHHCeBqxcEOcTHxAX"], $GLOBALS["aaVSngfyKHLQgxZvwrY"]); } public function addBasket() { $this->post_data = $GLOBALS["eeaWaMCfAxEsNHSwVohq"].serialize($this->post_data); $result = $this->callApi($GLOBALS["oVZHWpdaUpCbtPMUn"], $GLOBALS["ynlqpVNrmGMwTXUwlVQj"], $this->post_data); if(is_object($result) && $result->error == false && $result->status == 200) { return array( 'error' => false, 'msg' => $result->msg ); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function updateBasket() { $this->post_data = $GLOBALS["eeaWaMCfAxEsNHSwVohq"].serialize($this->post_data); $result = $this->callApi($GLOBALS["ZMEdiyXsYGIDgIKLyAzA"], $GLOBALS["ynlqpVNrmGMwTXUwlVQj"], $this->post_data); if(is_object($result) && $result->error == false && $result->status == 200) { $load_licence_result = $this->loadLicence(); if( $load_licence_result[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) return array( 'error' => false, 'msg' => $load_licence_result['msg']); else return array( 'error' => true, 'msg' => $this->l('Your basket has been updated but the following error has been detected: ').$load_licence_result[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]]); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function getCurrentBasket( $formated = false ) { $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $GLOBALS["LOrOcfYfzRCQzRNJPZSP"].$this->number, null); if(is_object($result) && $result->error == false && $result->status == 200 && isset($result->msg) && !empty($result->msg)) { $baskets = $result->msg; if( $formated ) { $basket_feature_ids = array(); $basket_basket_ids = array(); $level_selected = array(); $globa_level_selected['globa_level_selected'] = null; foreach ($baskets as $basket) { $basket_feature_ids[$GLOBALS["HskBufLLFZBvoHaxOmtE"]][] = $basket->feature_id; $basket_basket_ids[$GLOBALS["MpDsASENBpuuUwkThHsu"]][] = $basket->id; if( !array_key_exists($basket->level_id, $level_selected) ) $level_selected[$basket->level_id] = 0; else { $level_selected[$basket->level_id]++; if( isset($level_selected[2]) && $level_selected[2] == 5) { $globa_level_selected[$GLOBALS["mtMUkbfBgZxCPGgIqApX"]] = 2; } else if( $level_selected[$basket->level_id] == (count($baskets) -1 )) $globa_level_selected[$GLOBALS["mtMUkbfBgZxCPGgIqApX"]] = $basket->level_id; } } return array( 'error' => false, 'msg' => array_merge($basket_feature_ids, $basket_basket_ids, $globa_level_selected)); } return array( 'error' => false, 'msg' => $result->msg ); } else return array( 'error' => true, 'msg' => array( 'feature_id' => array(), 'basket_id' => array(), 'globa_level_selected' => array() ) ); } public function getControllers() { $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $GLOBALS["gQhBWbyOTVyGIxJZTUlb"].$this->number, null); if(is_object($result) && $result->error == false && $result->status == 200) { return array( 'error' => false, 'msg' => $result->msg ); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function getKnowledgeSource() { $result = $this->callApi($GLOBALS["JFtBmommUolcFYWLOPls"], $GLOBALS["pJYiGmLHfkQbGwXeMkxQ"].$this->context->language->iso_code, null); if(is_object($result) && $result->error == false && $result->status == 200) { $source_options = array(); if( !empty($result->msg)) { foreach($result->msg as $source) { $source_options[] = array( 'Id' => $source->id, 'Value' => $source->name ); } } return $source_options; } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function fillErpFeatureTable() { Db::getInstance()->delete($GLOBALS["pGCdlesQpKMafhWdNpQl"]); $controllers = $this->getControllers(); if( $controllers[$GLOBALS["qLdwVIlSFvZlEhjXrCsm"]] == false ) { if( !empty($controllers[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]])) { foreach($controllers[$GLOBALS["IfDOJLXpvVPUcjFdWhqj"]] as $controller) { $my_feature = new ErpFeature(); $my_feature->id_erpip_feature = NULL; $my_feature->picture = $controller->picture; $my_feature->controller = $controller->controller; $my_feature->is_root = $controller->root; $my_feature->order = $controller->order; $my_feature->status = $controller->status; $my_feature->key1 = $controller->key1; $my_feature->key2 = $controller->key2; $my_feature = $my_feature->save(); if( !empty($controller->langs) && $my_feature ) { $my_feature_id = Db::getInstance()->Insert_ID(); foreach ($controller->langs as $controller_lang ) { $my_feature_lang = new ErpFeatureLang(); $my_feature_lang->id_erpip_feature_language = NULL; $my_feature_lang->id_erpip_feature = (int)$my_feature_id; $my_feature_lang->iso_code = $controller_lang->iso_code; $my_feature_lang->name = $controller_lang->name; $my_feature_lang->save(); } } } return array( 'error' => false, 'msg' => ''); } } else { return array( 'error' => true, 'msg' => $controllers['msg']); } } public function addCustomer() { $result = $this->callApi($GLOBALS["oVZHWpdaUpCbtPMUn"], $GLOBALS["tTNVJUzrJhllDhrUzpQI"], $this->post_data); if(is_object($result) && ( ($result->error == false && $result->status == 200) || ( $result->error == true && $result->status == 300 ) )) { if( $result->status == 300 ) { Configuration::updateValue($GLOBALS["rDKsaYfDjomnLBuzWpYS"], Configuration::get($GLOBALS["rDKsaYfDjomnLBuzWpYS"]).htmlentities($this->displayError($result->warning))); } return array( 'error' => false, 'msg' => $result->msg ); } else { $this->error = $result->msg; return array( 'error' => true, 'msg' => $this->parseSqlError() ); } } public function parseSqlError() { preg_match($GLOBALS["hjiwRYFmqZAZKxwZwWaD"], $this->error, $matches); if( !empty($matches) && isset($matches[1]) ) { switch ($matches[1]) { case 23000 : if( strpos($this->error, $GLOBALS["ZbBoKzoWxxTWAOhcFmWw"]) !== false ) { if(strpos($this->error, $GLOBALS["PoaDIHYWqwWIsVqZaPEk"]) !== false ) $this->error = $this->l($GLOBALS["SPsYiKLPQjCvYBksjfRX"]); if(strpos($this->error, $GLOBALS["soAfcQdhHGSBoSEnDWkL"]) !== false ) $this->error = $this->l($GLOBALS["vbpFfCglfBLcFHDQdIcN"]); else $this->error = $this->l($GLOBALS["ZzIFTUrREDgfrExeUGKa"]).$GLOBALS["OUIJuJtYgyjVSTORhV"].$this->error.$GLOBALS["REulxJwdjMXctpffxyst"]; } else if(strpos($this->error, $GLOBALS["FxswiikWGivLXchxTGc"]) !== false && strpos($this->error, $GLOBALS["EIwnhjOPtzTfyzhwGXXs"]) !== false) $this->error = $GLOBALS["exPxRKSbeUKkJPvUQOkY"].$this->error.$GLOBALS["uDLvPjWiPkpeGATQxoVs"]; else $this->error = $GLOBALS["exPxRKSbeUKkJPvUQOkY"].$this->error.$GLOBALS["uDLvPjWiPkpeGATQxoVs"]; break; default : $this->error = $GLOBALS["exPxRKSbeUKkJPvUQOkY"].$this->error.$GLOBALS["uDLvPjWiPkpeGATQxoVs"]; break; } } return $this->error; } public function l($string, $class = 'ErpConfiguration', $addslashes = false, $htmlentities = false) { if (!empty($class)) { $str = ErpIllicopresta::findTranslation($GLOBALS["mRYejzEeLVrTIWSYoQY"], $string, $GLOBALS["ODZTpstcnTBaUJZqpfTr"]); $str = $htmlentities ? htmlentities($str, ENT_QUOTES, $GLOBALS["lcnnGKpkLUDfXFppRXDd"]) : $str; return str_replace($GLOBALS["enNqNaCvEaCEJfTuGZEY"], $GLOBALS["BUcwZjmlMYHUljJmew"], ($addslashes ? addslashes($str) : Tools::stripslashes($str))); } } } ?>